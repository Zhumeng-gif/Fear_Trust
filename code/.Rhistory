pku2009$occ <- pku2009$k5
pku2009$job <- pku2009$k3
pku2009$occR <- Recode(pku2009$k5,"c(4,5,8,10,997) = 0; c(1,2,3,6,7,9) = 1")
pku2009$occR[pku2009$occR == 99  & pku2009$job %in% c(1,2,3,4,5,7,9,10)] <- 0
pku2009$occR[pku2009$occR == 99  & pku2009$job %in% c(6,8)] <- 1
pku2009$occR[pku2009$occR == 99  & pku2009$job %in% c(77,88,99)] <- NA
pku2009$occR[pku2009$occR == 97  & pku2009$job %in% c(1,2,3,4,5,7,9,10)] <- 0
pku2009$occR[pku2009$occR == 97  & pku2009$job %in% c(6,8)] <- 1
pku2009$occR[pku2009$occR == 97  & pku2009$job %in% c(77,88)] <- NA
pku2009$occR[pku2009$occR == 96  & pku2009$job %in% c(1,2,3,4,5,7,9,10)] <- 0
pku2009$occR[pku2009$occR == 96  & pku2009$job %in% c(6,8)] <- 1
pku2009$occR[pku2009$occR == 96  & pku2009$job %in% c(77,88,99)] <- NA
pku2009$occR[pku2009$occR == 77  & pku2009$job %in% c(1,2,3,4,5,7,9,10)] <- 0
pku2009$occR[pku2009$occR == 77  & pku2009$job %in% c(6,8)] <- 1
pku2009$occR[pku2009$occR == 77  & pku2009$job %in% c(77,88)] <- NA
pku2009$trust_gover <- 5 - pku2009$c6a
pku2009$trust_gover[pku2009$trust_gover < 0] <- NA
pku2009$trust_local <- 5 - pku2009$c6g
pku2009$trust_local[pku2009$trust_local < 0] <- NA
pku2009$trust_goverR <- Recode(pku2009$c6a,"c(1,2) = 1; c(3,4) = 0; c(8,9) = NA")
pku2009$trust_localR <- Recode(pku2009$c6g,"c(1,2) = 1; c(3,4) = 0; c(8,9) = NA")
write.csv(pku2009,file = "../dataclean/pku2009.csv")
df_cbs2002 <- cbs2002 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_cbs2014 <- cbs2014 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_cbs2019 <- cbs2019 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_cbs2019$occ <- as.numeric(as.character(df_cbs2019$occ))
df_cbs2019$occR <- as.numeric(df_cbs2019$occR) - 1
df_cgss2010 <- cgss2010 %>%
dplyr::select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_pku2008 <- pku2008 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_pku2009 <- pku2009 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_css2006 <- css2006 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_css2017 <- css2017 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
#df_css2019 <- css2019 %>%
#select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_css2021 <- css2021 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
fullData <- bind_rows(
df_cbs2002,
df_cbs2014,
df_cbs2019,
df_cgss2010,
df_pku2008,
df_pku2009,
df_css2006,
df_css2017,
df_css2021
)
write.csv(fullData, file = "../data/fullData.csv")
## notes:pay attention to the warnings
summary(fullData)
table(pku2008$trust_gover)
table(pku2009$trust_gover)
table(css2021$trust_gover)
table(css2019$trust_gover)
table(css2006$trust_gover)
table(cbs2002$trust_gover)
fullData$occR <- as.factor(fullData$occR)
fullData$year <- as.factor(fullData$year)
fullData$trust_goverR <- as.factor(fullData$trust_goverR)
plot_within <- fullData %>%
count(year,occR) %>%
drop_na() %>%
ggplot(aes(fill = occR, y = n, x = year)) +
geom_bar(position = "fill",stat = "identity") +
scale_fill_manual(values =  rev(c('#B8860B','#BDB76B')),
labels = c("Out the System",
"In of System")) +
scale_y_continuous(labels = scales::percent) +
labs(y = "Percentage of In/Out")
ggsave(plot_within,file = "../fig/plot_within.png",width = 8)
plot_trust <- fullData %>%
count(year,occR,trust_goverR) %>%
drop_na() %>%
as.data.frame() %>%
rename(number = n) %>%
ggplot(aes(fill = trust_goverR, y = number, x = year)) +
facet_wrap(~ occR) +
geom_bar(position = "fill",stat = "identity") +
scale_fill_manual(values =  rev(c('#B8860B','#BDB76B')),
labels = c("No confidence",
"Confidence")) +
scale_y_continuous(labels = scales::percent) +
labs(y = "Political Trust Within/Out the System")
ggsave(plot_trust,file = "../fig/plot_trust.png",width = 8)
plot_trust_in <- fullData %>%
count(year,occR,trust_goverR) %>%
drop_na() %>%
as.data.frame() %>%
rename(number = n) %>%
filter(occR == 1) %>%
ggplot(aes(fill = trust_goverR, y = number, x = year)) +
geom_bar(position = "fill",stat = "identity") +
labs(y = "Political Trust Within the System")
ggsave(plot_trust_in,file = "../fig/plot_trust_in.png",width = 8)
plot_trust_out <- fullData %>%
count(year,occR,trust_goverR) %>%
drop_na() %>%
as.data.frame() %>%
rename(number = n) %>%
filter(occR == 0) %>%
ggplot(aes(fill = trust_goverR, y = number, x = year)) +
geom_bar(position = "fill",stat = "identity") +
labs(y = "Political Trust Without the System")
plot_trust <- fullData %>%
count(year,occR,trust_goverR) %>%
drop_na() %>%
as.data.frame()
View(plot_trust)
plot_trust_out <- fullData %>%
count(year,occR,trust_goverR) %>%
drop_na() %>%
as.data.frame() %>%
rename(number = n) %>%
filter(occR == 0) %>%
ggplot(aes(fill = trust_goverR, y = number, x = year)) +
geom_bar(position = "fill",stat = "identity") +
labs(y = "Political Trust Without the System")
ggsave(plot_trust_out,file = "../fig/plot_trust_out.png",width = 8)
write.csv(plot_trust, file = "../data/trust.csv")
write.csv(plot_trust, file = "../fig/trust.csv")
write.csv(plot_trust, file = "/Users/zhumeng/Desktop/project/Fear_Trust/fig/trust.csv")
trust <- fullData %>%
count(year,trust_goverR) %>%
drop_na() %>%
as.data.frame()
View(trust)
datasummary_crosstab(year ~ occR,
data = fullData_omit,
output = '../table/occ.docx'
)
datasummary_crosstab(year ~ occR,
data = fullData_omit,
output = '../table/occ.docx'
)
datasummary_crosstab(year ~ trust_goverR,
data = fullData_omit,
output = '../table/trust.docx'
)
occ_trust <- fullData %>%
count(year,occR,trust_goverR) %>%
drop_na() %>%
as.data.frame()
write.csv(occ_trust,"../table/occ_trust.docx")
View(occ_trust)
write.csv(occ_trust,file = "../table/occ_trust.docx")
occ_trust <- fullData %>%
count(year,occR,trust_goverR) %>%
drop_na() %>%
as.data.frame()
write.csv(occ_trust,file = "../table/occ_trust.docx")
write.csv(occ_trust,file = "../table/occ_trust.csv")
cbs2002A <- cbs2002 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
cbs2014A <- cbs2014 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
cbs2019A <- cbs2019 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
df_cbs2019$occ <- as.numeric(as.character(df_cbs2019$occ))
df_cbs2019$occR <- as.numeric(df_cbs2019$occR) - 1
cgss2010A <- cgss2010 %>%
dplyr::select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,occ_parter,occ_parterR,trust_gover,trust_goverR)
pku2008A <- pku2008 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,party_parter,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
pku2009A <- pku2009 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,party_parter,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
css2006A <- css2006 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,party_parter,edu,hukouRural,occ,occR,occ_parter,occ_parterR,trust_gover,trust_goverR)
css2017A <- css2017 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
#css2019A <- css2019 %>%
#select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,occ_parter,occ_parterR,trust_gover,trust_goverR)
css2021A <- css2021 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
allData <- bind_rows(
cbs2002A,
cbs2014A,
cbs2019A,
cgss2010A,
pku2008A,
pku2009A,
css2006A,
css2017A,
css2021A
)
cbs2002A <- cbs2002 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
cbs2014A <- cbs2014 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
cbs2019A <- cbs2019 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
cbs2019A$occ <- as.numeric(as.character(cbs2019A$occ))
cbs2019A$occR <- as.numeric(cbs2019A$occR) - 1
cgss2010A <- cgss2010 %>%
dplyr::select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,occ_parter,occ_parterR,trust_gover,trust_goverR)
pku2008A <- pku2008 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,party_parter,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
pku2009A <- pku2009 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,party_parter,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
css2006A <- css2006 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,party_parter,edu,hukouRural,occ,occR,occ_parter,occ_parterR,trust_gover,trust_goverR)
css2017A <- css2017 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
#css2019A <- css2019 %>%
#select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,occ_parter,occ_parterR,trust_gover,trust_goverR)
css2021A <- css2021 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
allData <- bind_rows(
cbs2002A,
cbs2014A,
cbs2019A,
cgss2010A,
pku2008A,
pku2009A,
css2006A,
css2017A,
css2021A
)
write.csv(allData, file = "../data/allData.csv")
## notes:pay attention to the warnings
View(allData)
## fulldata descriptive
datasummary(
data = fullData,
output = "../table/Descriptive.docx",
(WorkUnit = occR) +
(`Central goverment` = trust_gover)  +
(`Central govermentR` = trust_goverR) +
(Age = age) +
(Gender = female) +
(Marriage = marriage) +
(Residence = hukouRural) +
(Education = edu) +
(Partymember = party)    ~
(Mean + SD + Min + Max + (Number = N)),
title = "Description of Data",
notes = "Source："
)
class(fullData$occR)
df_cbs2002 <- cbs2002 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_cbs2014 <- cbs2014 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_cbs2019 <- cbs2019 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_cbs2019$occ <- as.numeric(as.character(df_cbs2019$occ))
df_cbs2019$occR <- as.numeric(df_cbs2019$occR) - 1
df_cgss2010 <- cgss2010 %>%
dplyr::select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_pku2008 <- pku2008 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_pku2009 <- pku2009 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_css2006 <- css2006 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_css2017 <- css2017 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
#df_css2019 <- css2019 %>%
#select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_css2021 <- css2021 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
fullData <- bind_rows(
df_cbs2002,
df_cbs2014,
df_cbs2019,
df_cgss2010,
df_pku2008,
df_pku2009,
df_css2006,
df_css2017,
df_css2021
)
write.csv(fullData, file = "../data/fullData.csv")
## notes:pay attention to the warnings
## fulldata descriptive
datasummary(
data = fullData,
output = "../table/Descriptive.docx",
(WorkUnit = occR) +
(`Central goverment` = trust_gover)  +
(`Central govermentR` = trust_goverR) +
(Age = age) +
(Gender = female) +
(Marriage = marriage) +
(Residence = hukouRural) +
(Education = edu) +
(Partymember = party)    ~
(Mean + SD + Min + Max + (Number = N)),
title = "Description of Data",
notes = "Source："
)
css2019_raw <- read_sav("../data/CSS/Data/CSS2019.sav") %>%
mutate(year = 2019,
wave = 4)
css2019_raw[css2019_raw < 0] <- NA
css2019 <- css2019_raw %>%
select(.,ID,province,a1_1_a,a1b1_a,a1d1,a1e1,a2,a3,a4a,a5a,b3a,b4a,fam_inc,c51a2,c51a3,c51b2,c51b3,c51c2,c51c3,d3a,d3b,d3c,f1a_1,f1a_2,f1a_3,year,wave) %>%
rename(id = ID)
# 这份问卷有开始工作时父母亲/配偶工作单位的性质，也有父母亲/配偶最后工作单位的性质，问的还蛮全的
css2019$province <- as.character(css2019$province) %>%
dplyr::recode(
"11" = "北京市",
"12" = "天津市",
"13" = "河北省",
"14" = "山西省",
"15" = "内蒙古自治区",
"21" = "辽宁省",
"22" = "吉林省",
"23" = "黑龙江省",
"31" = "上海市",
"32" = "江苏省",
"33" = "浙江省",
"34" = "安徽省",
"35" = "福建省",
"36" = "江西省",
"37" = "山东省",
"41" = "河南省",
"42" = "湖北省",
"43" = "湖南省",
"44" = "广东省",
"45" = "广西壮族自治区",
"46" = "海南省",
"50" = "重庆市",
"51" = "四川省",
"52" = "贵州省",
"53" = "云南省",
"54" = "西藏自治区",
"61" = "陕西省",
"62" = "甘肃省",
"63" = "青海省",
"64" = "宁夏回族自治区",
"65" = "新疆维吾尔自治区")
css2019$id <- as.numeric(css2019$id)
css2019$time <- if_else(css2019$year < 2013, 0, 1)
css2019$female <- css2019$a1b1_a - 1
css2019$age <- 2019 - css2019$a1_1_a
css2019$corhort <- Recode(css2019$age,"18:29 = 1; 30:49 = 2; 50:69 = 3")
css2019$marriage <- Recode(css2019$a1e1,"c(1,4,5,6) = 0; c(2,3) = 1; 7 = NA")
css2019$hukouRural <- Recode(css2019$a4a,"c(2,3) = 0; c(-1,4) = NA")#农业户口为1；非农为0
css2019$edu <- Recode(css2019$a1d1,"1 = 0; 2 = 1; 3 = 2; 4:6 = 3; 7:9 = 4; 10:12 = NA")
#css2019$race <- Recode(css2019$a2) #民族是从10-64，与问卷选项很不一样
css2019$party <- Recode(css2019$a3,"c(1,3) = 1; c(2,4) = 0")
css2019$incomFam <- css2019$fam_inc
# 这里需要注意：家庭总收入有三个variable可以选择，fam_inc，c4atot，c4aa，当前选择的是na最少的fam_inc
css2019$socialLevel <- css2019$d3a
css2019$occ <- css2019$b4a
css2019$occR <- Recode(css2019$b4a,"1:4 = 1; 5:11 = 0")
css2019$occR[css2019$b3a %in% c(3,4)] <- 0
css2019$occR[css2019$occR == 98 & css2019$b3a %in% c(3,4)] <- 0
css2019$occR[css2019$occR == 98 & css2019$b3a %in% c(1,2)] <- NA
css2019$occ_parter <- css2019$c51c3
css2019$occ_parterR <- Recode(css2019$occ_parter,"1:4 = 1; 5:12 = 0")
css2019$occ_parterR[css2019$occ_parterR %in% c(13,14,15) & css2019$c51c2 == 2] <- 0
css2019$occ_parterR[css2019$occ_parterR %in% c(13,14,15) & css2019$c51c2 %in% c(1,3,4,5,NA)] <- NA
css2019$trust_gover <- css2019$f1a_1
css2019$trust_quxian <- css2019$f1a_2
css2019$trust_xiangzhen <- css2019$f1a_3
css2019$trust_goverR <- Recode(css2019$f1a_1,"c(3,4) = 1; c(1,2) = 0; 5 = NA")# 5表示不适用；前面问卷的8表示不好说，我编码为0了，这里没有8的回答（table一下就知道了）
css2019$trust_quxianR <- Recode(css2019$f1a_2,"c(3,4) = 1; c(1,2) = 0; 5 = NA")
css2019$trust_xiangzhenR <- Recode(css2019$f1a_3,"c(3,4) = 1; c(1,2) = 0; 5 = NA")
write.csv(css2019,file = "../dataclean/css2019.csv")
df_cbs2002 <- cbs2002 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_cbs2014 <- cbs2014 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_cbs2019 <- cbs2019 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_cbs2019$occ <- as.numeric(as.character(df_cbs2019$occ))
df_cbs2019$occR <- as.numeric(df_cbs2019$occR) - 1
df_cgss2010 <- cgss2010 %>%
dplyr::select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_pku2008 <- pku2008 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_pku2009 <- pku2009 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_css2006 <- css2006 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_css2017 <- css2017 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_css2019 <- css2019 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_css2021 <- css2021 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
fullData <- bind_rows(
df_cbs2002,
df_cbs2014,
df_cbs2019,
df_cgss2010,
df_pku2008,
df_pku2009,
df_css2006,
df_css2017,
df_css2021
)
write.csv(fullData, file = "../data/fullData.csv")
## notes:pay attention to the warnings
df_cbs2002 <- cbs2002 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_cbs2014 <- cbs2014 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_cbs2019 <- cbs2019 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_cbs2019$occ <- as.numeric(as.character(df_cbs2019$occ))
df_cbs2019$occR <- as.numeric(df_cbs2019$occR) - 1
df_cgss2010 <- cgss2010 %>%
dplyr::select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_pku2008 <- pku2008 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_pku2009 <- pku2009 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_css2006 <- css2006 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_css2017 <- css2017 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_css2019 <- css2019 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
df_css2021 <- css2021 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,trust_gover,trust_goverR)
fullData <- bind_rows(
df_cbs2002,
df_cbs2014,
df_cbs2019,
df_cgss2010,
df_pku2008,
df_pku2009,
df_css2006,
df_css2017,
df_css2019,
df_css2021
)
write.csv(fullData, file = "../data/fullData.csv")
## notes:pay attention to the warnings
View(fullData)
cbs2002A <- cbs2002 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
cbs2014A <- cbs2014 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
cbs2019A <- cbs2019 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
cbs2019A$occ <- as.numeric(as.character(cbs2019A$occ))
cbs2019A$occR <- as.numeric(cbs2019A$occR) - 1
cgss2010A <- cgss2010 %>%
dplyr::select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,occ_parter,occ_parterR,trust_gover,trust_goverR)
pku2008A <- pku2008 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,party_parter,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
pku2009A <- pku2009 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,party_parter,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
css2006A <- css2006 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,party_parter,edu,hukouRural,occ,occR,occ_parter,occ_parterR,trust_gover,trust_goverR)
css2017A <- css2017 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
css2019A <- css2019 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,occ_parter,occ_parterR,trust_gover,trust_goverR)
css2021A <- css2021 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
allData <- bind_rows(
cbs2002A,
cbs2014A,
cbs2019A,
cgss2010A,
pku2008A,
pku2009A,
css2006A,
css2017A,
css2021A
)
write.csv(allData, file = "../data/allData.csv")
## notes:pay attention to the warnings
cbs2002A <- cbs2002 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
cbs2014A <- cbs2014 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
cbs2019A <- cbs2019 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
cbs2019A$occ <- as.numeric(as.character(cbs2019A$occ))
cbs2019A$occR <- as.numeric(cbs2019A$occR) - 1
cgss2010A <- cgss2010 %>%
dplyr::select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,occ_parter,occ_parterR,trust_gover,trust_goverR)
pku2008A <- pku2008 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,party_parter,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
pku2009A <- pku2009 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,party_parter,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
css2006A <- css2006 %>%
select(.,id,wave,year,time,age,corhort,female,marriage,party,party_parter,edu,hukouRural,occ,occR,occ_parter,occ_parterR,trust_gover,trust_goverR)
css2017A <- css2017 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
css2019A <- css2019 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,occ,occR,occ_parter,occ_parterR,trust_gover,trust_goverR)
css2021A <- css2021 %>%
select(.,id,wave,year,time,province,age,corhort,female,marriage,party,edu,hukouRural,race,occ,occR,trust_gover,trust_goverR)
allData <- bind_rows(
cbs2002A,
cbs2014A,
cbs2019A,
cgss2010A,
pku2008A,
pku2009A,
css2006A,
css2017A,
css2019A,
css2021A
)
write.csv(allData, file = "../data/allData.csv")
## notes:pay attention to the warnings
setwd("/Users/zhumeng/Desktop/project/Fear_Trust/code")
