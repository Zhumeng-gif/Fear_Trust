distrust = sum(trust_goverR == 0,na.rm = TRUE),
`completely trust` = sum(trust_gov_Maxdummy == 1,na.rm = TRUE),
`all others` = sum(trust_gov_Maxdummy == 0,na.rm = TRUE),
) %>%
mutate(missing = all - (trust + distrust),
`Prop.trust` = trust/all,
`Prop. completely trust` = `completely trust`/all,
`Prop. missing` = missing/all) %>%
ungroup()
css <- newdata %>%
filter(.,wave == 4) %>%
select(.,wave,year,trust_goverR,trust_gov_Maxdummy) %>%
group_by(year) %>%
summarise(
all = length(trust_goverR),
trust = sum(trust_goverR == 1,na.rm = TRUE),
distrust = sum(trust_goverR == 0,na.rm = TRUE),
`completely trust` = sum(trust_gov_Maxdummy == 1,na.rm = TRUE),
`all others` = sum(trust_gov_Maxdummy == 0,na.rm = TRUE),
) %>%
mutate(missing = all - (trust + distrust),
`Prop.trust` = trust/all,
`Prop. completely trust` = `completely trust`/all,
`Prop. missing` = missing/all) %>%
ungroup()
cssw <- newdata %>%
filter(.,wave == 4) %>%
select(.,wave,year)
View(cssw)
css <- newdata %>%
filter(.,wave == 4) %>%
select(.,year,trust_goverR,trust_gov_Maxdummy) %>%
group_by(year) %>%
summarise(
all = length(trust_goverR),
trust = sum(trust_goverR == 1,na.rm = TRUE),
distrust = sum(trust_goverR == 0,na.rm = TRUE),
`completely trust` = sum(trust_gov_Maxdummy == 1,na.rm = TRUE),
`all others` = sum(trust_gov_Maxdummy == 0,na.rm = TRUE),
) %>%
mutate(missing = all - (trust + distrust),
`Prop.trust` = trust/all,
`Prop. completely trust` = `completely trust`/all,
`Prop. missing` = missing/all,
wave = 4) %>%
ungroup()
rm(cssw)
cbs <- newdata %>%
filter(.,wave == 1) %>%
select(.,wave,year,trust_goverR,trust_gov_Maxdummy) %>%
group_by(year) %>%
summarise(
all = length(trust_goverR),
trust = sum(trust_goverR == 1,na.rm = TRUE),
distrust = sum(trust_goverR == 0,na.rm = TRUE),
`completely trust` = sum(trust_gov_Maxdummy == 1,na.rm = TRUE),
`all others` = sum(trust_gov_Maxdummy == 0,na.rm = TRUE),
) %>%
mutate(missing = all - (trust + distrust),
`Prop.trust` = trust/all,
`Prop. completely trust` = `completely trust`/all,
`Prop. missing` = missing/all,
wave = 1) %>%
ungroup()
df_data <- cbs
df_data <- cbs %>%
bind_rows(.,css)
View(df_data)
?geom_line
plot_css <- css %>%
ggplot() +
geom_line(year,Prop.trust,linetype = 1,colour = "gray50") +
xlab("Year") +
ylab("Proportion to the sample")+#纵坐标名称
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())#以上theme中代码用于去除网格线且保留坐标轴边框
plot_css <- css %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
xlab("Year") +
ylab("Proportion to the sample")+#纵坐标名称
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())#以上theme中代码用于去除网格线且保留坐标轴边框
plot_css
plot_css <- css %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample")+#纵坐标名称
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())#以上theme中代码用于去除网格线且保留坐标轴边框
plot_css
plot_css <- css %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 2,colour = "gray75") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample")+#纵坐标名称
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())#以上theme中代码用于去除网格线且保留坐标轴边框
plot_css
plot_css <- css %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. completely trust`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample")+#纵坐标名称
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())#以上theme中代码用于去除网格线且保留坐标轴边框
plot_css
plot_css <- css %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample")+#纵坐标名称
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())#以上theme中代码用于去除网格线且保留坐标轴边框
plot_css
plot_cbs <- cbs %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample")+#纵坐标名称
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())
plot_cbs
library(gridExtra)
library(grid)
grid(plot_cbs,plot_css)
grid(plot_cbs,plot_css,newpage = TRUE)
grid.arrange(plot_cbs,plot_css)
?grid.arrange
grid.arrange(plot_cbs,plot_css,newpage = TRUE)
pic <- cowplot::plot_grid(plot_cbs,plot_css,ncol=2,nrow = 1)
pic
ggsave(pic,file = "../figure/pic.pdf")
ggsave(pic,file = "../figures/pic.pdf")
ggsave("pic",file = "../figures/pic.pdf")
ggsave(pic,file = "/Users/zhumeng/Desktop/project/Fear_Trust/fig")
ggsave(pic,filename = "/Users/zhumeng/Desktop/project/Fear_Trust/fig")
ggsave(pic,filename = "/Users/zhumeng/Desktop/project/Fear_Trust/fig/pic.pdf")
plot_css
plot_css <- css %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CSS)") +
annotate("Prop. trust vs distrust", x = 2010, y = 0.95,colour="gray50") +
annotate("Prop. completely trust vs all other", x = 2010 , y = 0.65,colour="gray50") +
annotate("Prop. missing", x = 2010 , y = 0.015,colour="gray50") +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())#以上theme中代码用于去除网格线且保留坐标轴边框
plot_css <- css %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CSS)") +
annotate("Prop. trust vs distrust", x = 2010, y = 0.95,colour="gray50")
plot_cbs <- cbs %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CBS)")+#纵坐标名称
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())
plot_css <- css %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CSS)") +
annotate("text",label = "Prop. trust vs distrust", x = 2010, y = 0.95,colour="gray50") +
annotate("text",label = "Prop. completely trust vs all other", x = 2010 , y = 0.65,colour="gray50") +
annotate("text",label = "Prop. missing", x = 2010 , y = 0.015,colour="gray50") +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())#以上theme中代码用于去除网格线且保留坐标轴边框
plot_css
plot_css <- css %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CSS)") +
annotate("text",label = "Prop. trust vs distrust", x = 2015, y = 0.95,colour="gray50") +
annotate("text",label = "Prop. completely trust vs all other", x = 2015 , y = 0.55,colour="gray50") +
annotate("text",label = "Prop. missing", x = 2015 , y = 0.019,colour="gray50") +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())#以上theme中代码用于去除网格线且保留坐标轴边框
plot_css
plot_cbs <- cbs %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CBS)") +
+
annotate("text",label = "Prop. trust vs distrust", x = 2015, y = 0.95,colour="gray50") +
annotate("text",label = "Prop. completely trust vs all other", x = 2015 , y = 0.55,colour="gray50") +
annotate("text",label = "Prop. missing", x = 2015 , y = 0.019,colour="gray50") +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())
plot_cbs <- cbs %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CBS)") +
+
annotate("text",label = "Prop. trust vs distrust", x = 2015, y = 0.95,colour="gray50")
plot_cbs <- cbs %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CBS)") +
annotate("text",label = "Prop. trust vs distrust", x = 2015, y = 0.95,colour="gray50") +
annotate("text",label = "Prop. completely trust vs all other", x = 2015 , y = 0.55,colour="gray50") +
annotate("text",label = "Prop. missing", x = 2015 , y = 0.019,colour="gray50") +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())
plot_cbs
plot_cbs <- cbs %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CBS)") +
annotate("text",label = "Prop. trust vs distrust", x = 2010, y = 0.95,colour="gray50") +
annotate("text",label = "Prop. completely trust vs all other", x = 2010 , y = 0.55,colour="gray50") +
annotate("text",label = "Prop. missing", x = 2010 , y = 0.02,colour="gray50") +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())
plot_cbs
plot_cbs <- cbs %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CBS)") +
annotate("text",label = "Prop. trust vs distrust", x = 2010, y = 0.95,colour="gray50") +
annotate("text",label = "Prop. completely trust vs all other", x = 2013 , y = 0.55,colour="gray50") +
annotate("text",label = "Prop. missing", x = 2010 , y = 0.02,colour="gray50") +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())
plot_cbs
plot_cbs <- cbs %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CBS)") +
annotate("text",label = "Prop. trust vs distrust", x = 2010, y = 0.95,colour="gray50") +
annotate("text",label = "Prop. completely trust vs all other", x = 2015 , y = 0.55,colour="gray50") +
annotate("text",label = "Prop. missing", x = 2010 , y = 0.02,colour="gray50") +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())
plot_cbs
plot_css
plot_css <- css %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CSS)") +
annotate("text",label = "Prop. trust vs distrust", x = 2015, y = 0.95,colour="gray50") +
annotate("text",label = "Prop. completely trust vs all other", x = 2015 , y = 0.53,colour="gray50") +
annotate("text",label = "Prop. missing", x = 2015 , y = 0.018,colour="gray50") +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())#以上theme中代码用于去除网格线且保留坐标轴边框
plot_css
plot_cbs <- cbs %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CBS)") +
annotate("text",label = "Prop. trust vs distrust", x = 2010, y = 0.95,colour="gray50") +
annotate("text",label = "Prop. completely trust vs all other", x = 2015 , y = 0.55,colour="gray50") +
annotate("text",label = "Prop. missing", x = 2010 , y = 0.02,colour="gray50") +
geom_vline(xintercept = 2013,linetype = 2) +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())
plot_cbs
plot_css <- css %>%
ggplot() +
geom_line(aes(year,Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CSS)") +
annotate("text",label = "Prop. trust vs distrust", x = 2015, y = 0.95,colour="gray50") +
annotate("text",label = "Prop. completely trust vs all other", x = 2015 , y = 0.53,colour="gray50") +
annotate("text",label = "Prop. missing", x = 2015 , y = 0.018,colour="gray50") +
geom_vline(xintercept = 2013,linetype = 2) +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())#以上theme中代码用于去除网格线且保留坐标轴边框
plot_css
pic <- cowplot::plot_grid(plot_cbs,plot_css,ncol=2,nrow = 1)
ggsave(pic,filename = "/Users/zhumeng/Desktop/project/Fear_Trust/fig/pic.pdf")
plot_cbs <- cbs %>%
ggplot() +
geom_line(aes(as.factor(year),Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CBS)") +
annotate("text",label = "Prop. trust vs distrust", x = 2010, y = 0.95,colour="gray50") +
annotate("text",label = "Prop. completely trust vs all other", x = 2015 , y = 0.55,colour="gray50") +
annotate("text",label = "Prop. missing", x = 2010 , y = 0.02,colour="gray50") +
geom_vline(xintercept = 2013,linetype = 2) +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())
plot_cbs
plot_cbs <- cbs %>%
ggplot() +
geom_line(aes(as.factor(year),Prop.trust,group = 1),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CBS)") +
annotate("text",label = "Prop. trust vs distrust", x = 2010, y = 0.95,colour="gray50") +
annotate("text",label = "Prop. completely trust vs all other", x = 2015 , y = 0.55,colour="gray50") +
annotate("text",label = "Prop. missing", x = 2010 , y = 0.02,colour="gray50") +
geom_vline(xintercept = 2013,linetype = 2) +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())
plot_cbs
plot_cbs <- cbs %>%
ggplot() +
geom_line(aes(as.factor(year),Prop.trust),group = 1,linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CBS)") +
annotate("text",label = "Prop. trust vs distrust", x = 2010, y = 0.95,colour="gray50") +
annotate("text",label = "Prop. completely trust vs all other", x = 2015 , y = 0.55,colour="gray50") +
annotate("text",label = "Prop. missing", x = 2010 , y = 0.02,colour="gray50") +
geom_vline(xintercept = 2013,linetype = 2) +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())
plot_cbs
plot_cbs <- cbs %>%
ggplot() +
geom_line(aes(x = as.factor(year),y = Prop.trust,group = 1),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CBS)") +
annotate("text",label = "Prop. trust vs distrust", x = 2010, y = 0.95,colour="gray50") +
annotate("text",label = "Prop. completely trust vs all other", x = 2015 , y = 0.55,colour="gray50") +
annotate("text",label = "Prop. missing", x = 2010 , y = 0.02,colour="gray50") +
geom_vline(xintercept = 2013,linetype = 2) +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())
plot_cbs
plot_cbs <- cbs %>%
ggplot() +
geom_line(aes(x = year,y = Prop.trust),linetype = 1,colour = "gray50") +
geom_line(aes(year,`Prop. completely trust`),linetype = 1,colour = "gray75") +
geom_line(aes(year,`Prop. missing`),linetype = 2,colour = "gray50") +
ylim(0,1) +
xlab("Year") +
ylab("Proportion to the sample(CBS)") +
annotate("text",label = "Prop. trust vs distrust", x = 2010, y = 0.95,colour="gray50") +
annotate("text",label = "Prop. completely trust vs all other", x = 2015 , y = 0.55,colour="gray50") +
annotate("text",label = "Prop. missing", x = 2010 , y = 0.02,colour="gray50") +
geom_vline(xintercept = 2013,linetype = 2) +
theme_bw() +#去掉背景灰色
theme(panel.grid.major=element_line(colour=NA),
panel.background = element_rect(fill = "transparent",colour = NA),
plot.background = element_rect(fill = "transparent",colour = NA),
panel.grid.minor = element_blank())
plot_cbs
pic <- cowplot::plot_grid(plot_cbs,plot_css,ncol=2,nrow = 1)
ggsave(pic,filename = "/Users/zhumeng/Desktop/project/Fear_Trust/fig/pic.pdf")
pic
ggsave(pic,filename = "/Users/zhumeng/Desktop/project/Fear_Trust/fig/pic.pdf")
set.seed(1206)
options (warn = -1)
setwd("/Users/zhumeng/Desktop/project/Fear_Trust/code")
# packbirth loading
library(pacman)
p_load("rio",
"here",
"tidyverse",
"scales",
"car",
"haven",
"MatchIt",
"tableone",
"gtools",
"sandwich",
"lmtest",
"cobalt",
"modelsummary")
# no socilalevel
cbs2002_raw <- read_dta("../data/cbs/cbs2002.dta") %>%
mutate(year = 2002,
wave = 1)
